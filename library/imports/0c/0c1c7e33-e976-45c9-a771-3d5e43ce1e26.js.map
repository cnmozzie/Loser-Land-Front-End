{"version":3,"sources":["assets\\Script\\Rewards.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["const {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Rewards extends cc.Component {\r\n\t\r\n\tcurrentSeason: number = 1;\r\n\t\r\n\t@property(cc.Label)\r\n    rewardLabel: cc.Label = null;\r\n\t\r\n\t@property(cc.Button)\r\n    claimButton: cc.Button = null;\r\n\t\r\n\t@property(cc.Button)\r\n    rewardButton: cc.Button = null;\r\n\t\r\n\tclaimAP (e, msg) {\r\n\t  cc.sys.localStorage.setItem('gift-package', 1);\r\n\t  this.welcome.okt += 100\r\n\t  this.welcome.setBalanceLabel()\r\n\t  this.claimButton.interactable = false\r\n\t  let xhr = new XMLHttpRequest();\r\n\t  let url = \"https://losernft.org/register?address=\" + this.welcome.address\r\n      xhr.onreadystatechange = function () {\r\n        if (xhr.readyState == 4 && (xhr.status >= 200 && xhr.status < 400)) {\r\n          var response = xhr.responseText;\r\n          console.log(response);\r\n        }\r\n      };\r\n      xhr.open(\"GET\", url, true);\r\n      xhr.send();\r\n    },\r\n\t\r\n\tclaimLowb (e, msg) {\r\n\t\tthis.welcome.claimRewards()\r\n\t\tthis.rewardButton.interactable = false\r\n    },\r\n\t\r\n\tsetLabel (lowb, umg) {\r\n\t\tconst lang = cc.sys.localStorage.getItem('lang')\r\n\t\tif (lang === 'zh') {\r\n\t\t\tthis.rewardLabel.string = `${lowb} lowb \\n${umg} UMG`\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.rewardLabel.string = `${lowb} lowb \\n${umg} UMG`\r\n\t\t}\r\n\t\tif (lowb > 0) {\r\n\t\t\tthis.rewardButton.interactable = true\r\n\t\t}\r\n    },\r\n\t\r\n\tcancle (e, msg) {\r\n        cc.log('skip');\r\n\t\tthis.node.destroy()\r\n    },\r\n\r\n\tonLoad () {\r\n\t\tthis.rewardButton.interactable = false\r\n\t\tconst gift = cc.sys.localStorage.getItem('gift-package')\r\n\t\tif (gift == this.currentSeason) {\r\n\t\t\tthis.claimButton.interactable = false\r\n\t\t}\r\n    },\r\n\r\n    start () {\r\n\r\n    }\r\n}\r\n"]}